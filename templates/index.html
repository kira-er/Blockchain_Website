{% extends "base.html" %}

{% block main %}

<section class="section">
<div class="container">
<h1 class="title">Die Blockchain </h1>
<h2 class="subtitle">Jeder Kasten repräsentiert einen Block der Blockchain. Klicke ihn an, um Informationen über die gespeicherten Transaktionen zu erhalten.</h2>

<div class="columns is-multiline">
    {% for block in chain %}
    <div class="column">
        <div class="card is-clickable {% if loop.index-1 == index %}has-background-primary{% else %}has-background-grey-lighter{% endif %}">
            <div class="card-header">
                <p class="card-header-title">Block {{block.number}}</p>
            </div>
            <div class="card-content">
                <p class="is-size-5">Hash</p> <blockquote class="is-size-6">{{block.hash}}</blockquote>
                <hr>
                <p class="is-size-5">Previous Hash</p> <blockquote>{{block.previousHash}}</blockquote>
                <hr>
                <p class="is-size-5">Timestamp</p> <blockquote>{{block.timestamp}}</blockquote>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
</div>
</section>

<section class="section">
<div class="container">
<h1 class="title">Transaktionen in Block {{chain[index].number}}</h1>


<table class="table">
<thead>
<tr>
<th><abbr title="Origin Adress">From</abbr></th>
<th><abbr title="Target Adress">To</abbr></th>
<th>Amount</th>
<th>Valid</th>
</tr>
</thead>
<tbody>
    {% for transaction in chain[index].transactions %}
    <tr>
        <td>
            {{transaction.fromAddress}}
        </td>
        <td>
            {{transaction.toAddress}}
        </td>
        <td>
            {{transaction.amount}}
        </td>
        <td>
            {{transaction.valid}}
        </td>
    </tr> 
    {% endfor %}
    </tbody>
</table>
</div>
</section>
{% endblock %}